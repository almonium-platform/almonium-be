[Unit]
Description=Almonium Backend Service
After=network.target

[Service]
User=kuzanoleg
WorkingDirectory=/home/kuzanoleg/almonium
TimeoutStartSec=600
ExecStartPre=/usr/bin/mvn clean package -DskipTests -Dcheckstyle.skip -B --update-snapshots
ExecStart=/usr/bin/docker-compose up --build
ExecStop=/usr/bin/docker-compose down
Restart=on-failure
RestartSec=10

[Install]
WantedBy=multi-user.target